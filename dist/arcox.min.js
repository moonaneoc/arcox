module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="Pzcr")}({"/wPN":function(e,t){e.exports=require("markdown-it")},"1D/t":function(e,t,n){let{emit:i,emitSync:o,on:r}=(()=>{let e={};return{emit:function(t){let n=Array.prototype.slice.call(arguments,1);return setTimeout(()=>{e[t]&&e[t].forEach(e=>{e&&e.apply(this,n)})},0),this},emitSync:function(t){let n=Array.prototype.slice.call(arguments,1);return e[t]&&e[t].forEach(e=>{e&&e.apply(this,n)}),this},on:function(t,n){return e[t]||(e[t]=[]),e[t].push(n),this}}})(),{bind:s,unbind:l}=(()=>{let e=null;return{bind:function(t,i){if(e||(e=n("UekY")),!(t instanceof e))throw new Error("Invalid param.Required an instance of Editor.");this.editor&&this.unbind(),this.editor=t,this.render(this.editor.el.value);let o=this.editor.el.scrollTop/(this.editor.el.scrollHeight-this.editor.el.clientHeight);this.el.scrollTop=(this.el.scrollHeight-this.el.clientHeight)*o,!0!==i&&this.editor.bind(this,!0)},unbind:function(e){this.editor&&(!0!==e&&this.editor.unbind(!0),this.editor=null,this.html="",this.el.innerHTML="")}}})();e.exports={render:function(e){this.html=this.md.render(e),this.el.innerHTML=this.html},getHtml:function(){return this.html},bind:s,unbind:l,emit:i,emitSync:o,on:r}},"3EU9":function(e,t){e.exports={isNonnegativeInt:function(e){return parseInt(e)===e&&e>=0},isString:function(e){return"string"==typeof e},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isFunction:function(e){return"function"==typeof e},debounce:function(e,t){e.__debounce__timer&&clearTimeout(e.__debounce__timer),e.__debounce__timer=setTimeout(e.bind(t),100)}}},BeIM:function(e,t,n){const{isNonnegativeInt:i,isString:o,isObject:r,isFunction:s}=n("3EU9");let{emit:l,emitSync:c,on:h}=(()=>{let e={};return{emit:function(t){let n=Array.prototype.slice.call(arguments,1);return setTimeout(()=>{e[t]&&e[t].forEach(e=>{e&&e.apply(this,n)})},0),this},emitSync:function(t){let n=Array.prototype.slice.call(arguments,1);return e[t]&&e[t].forEach(e=>{e&&e.apply(this,n)}),this},on:function(t,n){return e[t]||(e[t]=[]),e[t].push(n),this}}})(),{bind:u,unbind:a}=(()=>{let e=null;return{bind:function(t,i){if(e||(e=n("tkHU")),!(t instanceof e))throw new Error("Invalid param.Required an instance of Renderer.");this.renderer&&this.unbind(),this.renderer=t,!0!==i&&this.renderer.bind(this,!0)},unbind:function(e){this.renderer&&(!0!==e&&this.renderer.unbind(!0),this.renderer=null)}}})();e.exports={focus:function(){this.el.focus()},setContent:function(e){if(!o(e))throw new Error("Type error. String is required.");e!==this.el.value&&(this.el.value=e,this.emit("change",e))},getContent:function(){return this.el.value},setSelection:function(e,t){this.el.selectionStart=e,this.el.selectionEnd=t},getSelection:function(){return{startIndex:this.el.selectionStart,endIndex:this.el.selectionEnd}},format:function(e){let{prefix:t,subfix:n,name:i}=this.config.formats[e]?this.config.formats[e]:{};if("string"!=typeof t&&"string"!=typeof n)throw new Error(`Invalid format '${e}'`);i=i||"",t=t||"",n=n||"";let o=this.el.selectionStart,r=this.el.selectionEnd;this.el.focus(),o===r?(this.setContent(`${this.el.value.substring(0,o)}${t}${i}${n}${this.el.value.substring(r)}`),this.setSelection(o+t.length,o+t.length+i.length)):this.el.value.substring(o-t.length,o)===t&&this.el.value.substring(r,r+n.length)===n?(this.setContent(`${this.el.value.substring(0,o-t.length)}${this.el.value.substring(o,r)}${this.el.value.substring(r+n.length)}`),this.setSelection(o-t.length,r-t.length)):(this.setContent(`${this.el.value.substring(0,o)}${t}${this.el.value.substring(o,r)}${n}${this.el.value.substring(r)}`),this.setSelection(o+t.length,r+t.length))},use:function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},emit:l,emitSync:c,on:h,bind:u,unbind:a}},CtAk:function(e,t,n){var i={"./tab":"xaE8","./tab.js":"xaE8","./undo":"UcdN","./undo.js":"UcdN"};function o(e){return n(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id="CtAk"},"MXo+":function(e,t){e.exports={el:"",lang:""}},N8T6:function(e,t){e.exports={el:"",plugins:{undo:!0,tab:!0},formats:{heading1:{name:"heading1",prefix:"# "},heading2:{name:"heading2",prefix:"## "},heading3:{name:"heading3",prefix:"### "},heading4:{name:"heading4",prefix:"#### "},heading5:{name:"heading5",prefix:"##### "},heading6:{name:"heading6",prefix:"###### "},bold:{name:"bold",prefix:"**",subfix:"**"},italic:{name:"italic",prefix:"*",subfix:"*"},blockquote:{name:"blockquote",prefix:"> "},strike:{name:"strike",prefix:"~~",subfix:"~~"},link:{name:"link",prefix:"[",subfix:"](url)"},image:{name:"image",prefix:"![",subfix:"](url)"},table:{name:"col",prefix:"|",subfix:"|col|col|\n|-|-|-|\n|col|col|col|"},codeblock:{name:"js",prefix:"```",subfix:"\n```"},inlinecode:{name:"code",prefix:"`",subfix:"`"}}}},Pzcr:function(e,t,n){let i=n("UekY"),o=n("tkHU");e.exports={Editor:i,Renderer:o}},UcdN:function(e,t){let n=0,i=[{value:"",startIndex:0,endIndex:0}],o=!0;e.exports=function(e){e.undo=function(){n>0&&(o=!1,n-=1,this.setContent(i[n].value),this.setSelection(i[n].startIndex,i[n].endIndex)),this.focus()}.bind(e),e.redo=function(){n<i.length-1&&(o=!1,n+=1,this.setContent(i[n].value),this.setSelection(i[n].startIndex,i[n].endIndex)),this.focus()}.bind(e),e.on("change",function(t){if(o){let{startIndex:o,endIndex:r}=e.getSelection();(i=100>n+1?i.slice(0,n+1):i.slice(1,n+1)).push({value:t,startIndex:o,endIndex:r}),n=i.length-1}else o=!0}),e.on("keydown",function(t){90!==t.code||!t.ctrl&&!t.meta||t.alt||t.shift?89!==t.code||!t.ctrl&&!t.meta||t.alt||t.shift||(t.preventDefault(),t.stopPropagation(),e.redo()):(t.preventDefault(),t.stopPropagation(),e.undo())})}},UekY:function(e,t,n){const{isObject:i,isString:o,debounce:r}=n("3EU9"),{focus:s,setContent:l,getContent:c,setSelection:h,getSelection:u,format:a,use:d,emit:f,emitSync:p,on:g,bind:m,unbind:b}=n("BeIM");function y(e){if(!(this instanceof y))return new y(e);this.config=function(e){let t=Object.prototype.hasOwnProperty;return Object.keys(this._defaultConfig).forEach(n=>{if(i(this._defaultConfig[n])&&t.call(e,n)){if(!i(e[n]))throw new Error(`Invalid config.'${n}' must be an object.`);Object.keys(this._defaultConfig[n]).forEach(i=>{t.call(e[n],i)||(e[n][i]=this._defaultConfig[n][i])})}else e[n]=t.call(e,n)?e[n]:this._defaultConfig[n]}),e}.call(this,i(e)?e:{});let t=this.config.el||e;if(!t||!o(t))throw new Error("Invalid element id");this.el=document.getElementById(t.replace(/^#/,"")),this.renderer=null,this._oldValue="",this.el.addEventListener("input",e=>{S.call(this),r(E,this)}),this.on("change",e=>{S.call(this)}),function(){Object.keys(this.config.plugins).forEach(e=>{!1!==this.config.plugins[e]&&this.use(n("CtAk")("./"+e))})}.call(this),function(){this.el.onkeydown=(e=>{e=window.event||e,this.emitSync("keydown",{code:e.keyCode||e.which||e.charCode,ctrl:e.ctrlKey,meta:e.metaKey,alt:e.altKey,shift:e.shiftKey,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}})})}.call(this),x=x.bind(this),v=v.bind(this),this.el.addEventListener("mouseenter",x)}function x(){this.renderer&&(this.el.addEventListener("scroll",v),this.renderer._removeScrollListener())}function v(){if(this.renderer){let e=this.el.scrollTop/(this.el.scrollHeight-this.el.clientHeight);this.renderer.el.scrollTop=(this.renderer.el.scrollHeight-this.renderer.el.clientHeight)*e}}function S(){this.el.scrollHeight-this.el.clientHeight-this.el.scrollTop<20&&(this.el.scrollTop=this.el.scrollHeight-this.el.clientHeight),this.renderer&&(this.renderer.render(this.el.value),v())}function E(){this.el.value!==this._oldValue&&(this.emit("change",this.el.value),this._oldValue=this.el.value)}y.prototype._defaultConfig=n("N8T6"),y.prototype.focus=s,y.prototype.setContent=l,y.prototype.getContent=c,y.prototype.setSelection=h,y.prototype.getSelection=u,y.prototype.format=a,y.prototype.use=d,y.prototype.emit=f,y.prototype.emitSync=p,y.prototype.on=g,y.prototype.bind=m,y.prototype.unbind=b,y.prototype._removeScrollListener=function(){this.el.removeEventListener("scroll",v)},e.exports=y},tG1S:function(e,t){e.exports=require("highlight.js")},tkHU:function(e,t,n){const i=n("/wPN"),o=n("tG1S"),{isObject:r,isString:s}=n("3EU9"),{render:l,getHtml:c,bind:h,unbind:u,emit:a,emitSync:d,on:f}=n("1D/t");function p(e){if(!(this instanceof p))return new p(e);this.config=function(e){let t=Object.prototype.hasOwnProperty;return Object.keys(this._defaultConfig).forEach(n=>{if(r(this._defaultConfig[n])&&t.call(e,n)){if(!r(e[n]))throw new Error(`Invalid config.'${n}' must be an object.`);Object.keys(this._defaultConfig[n]).forEach(i=>{t.call(e[n],i)||(e[n][i]=this._defaultConfig[n][i])})}else e[n]=t.call(e,n)?e[n]:this._defaultConfig[n]}),e}.call(this,r(e)?e:{}),this.md=new i({highlight:(e,t)=>{if(!t&&this.config.lang&&(t=this.config.lang),t&&o.getLanguage(t))try{return'<pre class="hljs"><code>'+o.highlight(t,e).value+"</code></pre>"}catch(e){}return'<pre class="hljs"><code>'+this.md.utils.escapeHtml(e)+"</code></pre>"}});let t=this.config.el||e;if(!t||!s(t))throw new Error("Invalid element id");this.el=document.getElementById(t.replace(/^#/,"")),this.el.className+=this.el.className?" arcox-renderer":"arcox-renderer",this.editor=null,this.html="",g=g.bind(this),m=m.bind(this),this.el.addEventListener("mouseenter",g)}function g(e){this.editor&&(this.el.addEventListener("scroll",m),this.editor._removeScrollListener())}function m(){if(this.editor){let e=this.el.scrollTop/(this.el.scrollHeight-this.el.clientHeight);this.editor.el.scrollTop=(this.editor.el.scrollHeight-this.editor.el.clientHeight)*e}}p.prototype._defaultConfig=n("MXo+"),p.prototype.render=l,p.prototype.getHtml=c,p.prototype.bind=h,p.prototype.unbind=u,p.prototype.emit=a,p.prototype.emitSync=d,p.prototype.on=f,p.prototype._removeScrollListener=function(){this.el.removeEventListener("scroll",m)},e.exports=p},xaE8:function(e,t){e.exports=function(e){e.on("keydown",function(t){if(9===t.code&&!t.ctrl&&!t.meta&&!t.alt){t.preventDefault(),t.stopPropagation();let{startIndex:n,endIndex:i}=e.getSelection(),o=e.getContent();t.shift?n>0&&"\t"===o[n-1]&&(e.setContent(`${o.substring(0,n-1)}${o.substring(n)}`),e.setSelection(n-1,i-1)):(e.setContent(`${o.substring(0,n)}\t${o.substring(i)}`),e.setSelection(n+1,n+1))}})}}});